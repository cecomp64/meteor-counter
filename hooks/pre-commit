#!/bin/bash

# Meteor Observer - Pre-commit Hook
# Automatically updates version number before each commit

echo "ðŸš€ Running pre-commit hook: Updating version..."

# Run the update-version script
./scripts/update-version.sh

# Check if the version update was successful
if [ $? -eq 0 ]; then
    echo "âœ“ Version updated successfully"

    # Add the updated files to the staging area
    # This ensures the version changes are included in the current commit
    git add public/index.html public/manifest.json public/service-worker.js README.md src/client/app.js package.json

    echo "âœ“ Version files staged for commit"
else
    echo "âœ— Version update failed"
    exit 1
fi

echo ""
